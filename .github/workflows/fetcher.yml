name: Job Fetcher
on:
  workflow_dispatch:
    inputs:
      country:
        description: 'Country for job search'
      keyword:
        description: 'Keyword for job search'
      wp_site_url:
        description: 'WordPress site URL'
jobs:
  fetch:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: |
          pip install requests
      - name: Run fetcher
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          WP_SITE_URL: ${{ inputs.wp_site_url }}
          COUNTRY: ${{ inputs.country }}
          KEYWORD: ${{ inputs.keyword }}
        run: python fetcher.py
